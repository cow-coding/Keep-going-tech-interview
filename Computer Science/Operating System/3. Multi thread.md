# Why use multi-thread

## 멀티 프로세스 대신 멀티 쓰레드를 사용하는 이유를 설명해주세요.

> 정의
- Multi Process : 하나의 응용프로그램에 `여러 프로세스(CPU)를 구성`하여 각각의 프로세스가 하나의 작업을 처리하는 것
- Multi Thread : 하나의 응용프로그램에 `여러 쓰레드를 구성`하여 각각의 쓰레드가 하나의 작업을 처리하는 것

> Multi Process
- 장점
  - Reliability 증가 : 프로세스는 독립적인 영역에 할당되어 서로를 침범하지 않기 때문에 `다른 프로세스(CPU)에 문제가 발생해도 나머지 프로세스가 작업을 처리`할 수 있음
  - 처리율/경제성 증가 : 동시에 여러 CPU가 동시에 접근하므로 처리 효율이 높아짐
- 단점
  - 프로세스(CPU)의 수에 비례하여 성능이 증가하지 않음 
    - `Context Switching에 따른 overhead가 발생함`
  - 프로세스 간의 독립 영역을 침범할 수 없기 때문에 자원 공유가 효율적인 상황에선 공유할 수 없음

> Multi Thread
- 장점
  - stack이나 register를 제외한 메모리 영역을 공유하므로 자원을 효율적으로 쓸 수 있음
  - 쓰레드 간의 context switching은 프로세스 간의 switching보다 부하가 적고 속도가 빠름
- 단점
  - `하나의 쓰레드가 동작에 이상이 발생할 경우 다른 쓰레드에게 영향을 미치므로 치명적일 수 있음`
  - race condition : 서로 메모리 공간을 공유하므로 `동기화 문제를 항상 신경써야함`
  - race condition에 따라 critical section 문제가 발생할 수 있음

> 안정성이 떨어짐에도 왜 많은 OS가 멀티 쓰레드를 기본으로 할까요?
- 프로세스 간의 context switching에는 overhead가 발생
- 멀티 쓰레드로 변경할 경우 `프로세스 생성 후 자원을 할당하는 system call을 줄이므로` 효율적인 관리가 가능
- 쓰레드는 stack을 제외한 메모리 영역을 공유하므로 쓰레드간의 통신 비용이 줄어들고 전환속도가 빠르기 때문에 응답시간이 빠름
  